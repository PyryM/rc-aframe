<html>
  <head>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="../js/pano_material.js"></script>
    <script src="../js/color_changer.js"></script>
    <script src="../js/videocontrol.js"></script>
    <script src="https://unpkg.com/aframe-template-component@^3.1.1/dist/aframe-template-component.min.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Asset management system. -->
      <a-assets>
        <img id="pano" src="images/pano_small.jpg">
        <video id="vidconstruction" src="videos/construction.mp4">
        <video id="vidwed" loop="true" src="videos/wednesday.mp4">

        <script id="videosphere" type="text/html">
          <a-icosahedron detail="2" position="${x} 1.6 ${z}" scale="0.49 0.49 0.49"
                    wireframe="true" color="#FFFFFF"
                    transparent="true" opacity="0.2"></a-icosahedron>
          <a-icosahedron detail="3" position="${x} 1.6 ${z}" scale="-0.5 -0.5 -0.5"
                    material="shader: pano-warp-magic; src: ${src}; warpParams: -1.0 1.5 0.0 0.0"
                    videocontrol="src: ${src}"></a-icosahedron>
        </script>
      </a-assets>

      <a-entity template="src: #videosphere"
          data-x="2.0" data-z="2.0" data-src="#vidwed"></a-entity>

      <a-entity template="src: #videosphere"
          data-x="-2.0" data-z="-2.0" data-src="#vidconstruction"></a-entity>

      <a-box width="5.25" height="0.1" position="3.0 0.0 3.0" depth="5.25" color="#333333"></a-box>
      <a-box width="5.25" height="0.1" position="-3.0 0.0 -3.0" depth="5.25" color="#333333"></a-box>
      <a-box width="5.25" height="0.1" position="-3.0 0.0 3.0" depth="5.25" color="#CCCCCC"></a-box>
      <a-box width="5.25" height="0.1" position="3.0 0.0 -3.0" depth="5.25" color="#CCCCCC"></a-box>
      <a-sky id="sky" color="#AAAAAA"></a-sky>
    </a-scene>
  </body>
</html>
