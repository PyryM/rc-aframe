<html>
  <head>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="../js/waypoint.js"></script>
    <script src="../js/exit.js"></script>
    <script src="../js/pano_material.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Asset management system. -->
      <a-assets>
        <img id="pano" src="images/pano_small.jpg">
        <img id="exit" src="images/exit.png">
      </a-assets>

      <a-entity id="camparent" position="0 0 0" walker>
        <a-entity camera="userHeight: 1.6" look-controls wasd-controls>
          <a-entity cursor="fuse: true; fuseTimeout: 500"
                    position="0 0 -0.2"
                    geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.008"
                    material="color: blue; shader: flat"
                    raycaster="far: 20; interval: 100; objects: .clickable">
            <a-animation begin="click" easing="ease-in" attribute="scale"
                   fill="forwards" from="0.1 0.1 0.1" to="1 1 1" dur="100"></a-animation>
            <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale"
                     fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="500"></a-animation>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-entity position="2.0 0.0 0.0" class="clickable" rcwaypoint>
        <a-sphere radius="0.5" position="0.0 1.6 0.0" scale="-1.1 -1.1 -1.1" material="shader: pano-warp-magic; src: #pano; warpParams: -0.5 1.5 0.0 0.0" radius="0.2" ></a-sphere>
      </a-entity>
      <a-circle position="2.0 1.15 0.0" src="#exit" radius="0.05" rotation="-90 0 0" class="clickable" rcexitbutton="cone1"></a-circle>

      <a-cone id="cone1" scale="0.125 0.125 0.125" position="2.5 0.0 0.5" class="clickable" color="tomato" radius-bottom="2" radius-top="0.25" rcwaypoint></a-cone>

      <a-entity position="-2.0 0.0 0.0" class="clickable" rcwaypoint>
        <a-sphere position="0.0 1.6 0.0" color="#FF0000" radius="0.2"></a-sphere>
      </a-entity>
      <a-cone id="cone2" scale="0.125 0.125 0.125" position="-1.5 0.0 0.5" class="clickable" color="tomato" radius-bottom="2" radius-top="0.25" rcwaypoint></a-cone>

      <a-entity position="0.0 0.0 2.0" class="clickable" rcwaypoint>
        <a-sphere position="0.0 1.6 0.0" color="#AAFFFF" radius="0.2"></a-sphere>
      </a-entity>
      <a-cone id="cone3" scale="0.125 0.125 0.125" position="0.5 0.0 2.0" class="clickable" color="tomato" radius-bottom="2" radius-top="0.25" rcwaypoint></a-cone>

      <a-entity position="0.0 0.0 -2.0" class="clickable" rcwaypoint>
        <a-sphere position="0.0 1.6 0.0" color="#000000" radius="0.2"></a-sphere>
      </a-entity>
      <a-cone id="cone4" scale="0.125 0.125 0.125" position="-0.5 0.0 -1.5" class="clickable" color="tomato" radius-bottom="2" radius-top="0.25" rcwaypoint></a-cone>

      <a-sky id="sky" color="#AAAAFF"></a-sky>
    </a-scene>
  </body>
</html>
