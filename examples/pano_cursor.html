<html>
  <head>
    <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
    <script src="../js/pano_material.js"></script>
    <script src="../js/waypoint.js"></script>
    <script src="../js/exit.js"></script>
  </head>
  <body>
    <a-scene>
      <!-- Asset management system. -->
      <a-assets>
        <img id="pano" src="images/pano_small.jpg">
      </a-assets>

      <a-entity id="camparent" position="0 0 0">
        <a-entity camera="userHeight: 1.6" look-controls wasd-controls>
          <a-entity cursor="fuse: true; fuseTimeout: 500"
                    position="0 0 -0.2"
                    geometry="primitive: ring; radiusInner: 0.005; radiusOuter: 0.008"
                    material="color: blue; shader: flat"
                    raycaster="far: 20; interval: 100; objects: .clickable">
            <a-animation begin="click" easing="ease-in" attribute="scale"
                   fill="forwards" from="0.1 0.1 0.1" to="1 1 1" dur="100"></a-animation>
            <a-animation begin="cursor-fusing" easing="ease-in" attribute="scale"
                     fill="forwards" from="1 1 1" to="0.1 0.1 0.1" dur="500"></a-animation>
          </a-entity>
        </a-entity>
      </a-entity>

      <a-sphere id="start" position="0.1 0.0 0.0" color="#FFFFFF" radius="0.1" rcwaypoint></a-sphere>
      <a-icosahedron detail="1" position="2.0 1.5 0.0" scale="0.99 0.99 0.99"
                wireframe="true" color="#FFFFFF">
        <a-sphere class="clickable" position="0.0 -0.5 0.0" color="red" radius="0.1" rcexitbutton="teleport_waypoint: start">
        </a-sphere>
      </a-icosahedron>
      <a-sphere class="clickable"
                position="2.0 1.5 0.0" scale="-1.0 -1.0 -1.0"
                material="shader: pano-shader-magic;src: #pano"
                rcwaypoint></a-sphere>
      <a-sky id="sky" color="#808080"></a-sky>
    </a-scene>
  </body>
</html>
